{% extends "layout.html.twig" %}

{% block title %}Profils{% endblock %}

{% block css %}
    <link rel="stylesheet" href="{{ asset("css/join.css") }}">
    <style>
        /* Additional styles specific to this template */
    </style>
{% endblock %}

{% block main %}
    <h2>{% trans %}Profils{% endtrans %}</h2>

    <h1>Changer Pseudo</h1>
    <form action="{{ path('user_profile') }}" method="post" onsubmit="return confirmUsernameChange();">
        <label for="new_username">Nouveau Pseudo: </label>
        <input type="text" id="new_username" name="new_username" required>
        <br>
        <button type="submit" name="change_username">Changer Pseudo</button>
    </form>

    <h1>Changer Mot de passe</h1>
    <form action="{{ path('user_profile') }}" method="post" onsubmit="return confirmPasswordChange();">
        <label for="old_password">Ancien Mot de passe: </label>
        <input type="password" id="old_password" name="old_password" required>
        <br>
        <label for="new_password">Nouveau Mot de passe: </label>
        <input type="password" id="new_password" name="new_password" required>
        <br>
        <button type="submit" name="change_password">Changer Mot de passe</button>
    </form>

    <h1>Supprimer Profil</h1>
    <form action="{{ path('delete_profile') }}" method="post" onsubmit="return confirmProfileDeletion();">
        <button type="submit" name="delete_profile">Supprimer Profil</button>
    </form>

    <script>
        function confirmUsernameChange() {
            return confirm("Êtes-vous sûr de vouloir modifier votre pseudo?");
        }

        function confirmPasswordChange() {
            return confirm("Êtes-vous sûr de vouloir modifier votre mot de passe?");
        }

        function confirmProfileDeletion() {
            return confirm("Êtes-vous sûr de vouloir supprimer votre profil? Cette action est irréversible.");
        }
    </script>
{% endblock %}

